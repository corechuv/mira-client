import React, { createContext, useContext, useEffect, useMemo, useState } from "react";
import { setApiLocale } from "@/lib/api";

export type Locale = "ru" | "uk" | "en" | "de";
const LOCALE_KEY = "pm.locale";

type Dict = Record<string, string>;
type Bundle = Record<Locale, Dict>;

const bundle: Bundle = {
    ru: {
        "nav.home": "Главная",
        "nav.catalog": "Каталог",
        "nav.orders": "Заказы",
        "nav.profile": "Профиль",
        "nav.cart": "Корзина",

        "btn.addToCart": "В корзину",
        "btn.filters": "Фильтры",
        "btn.apply": "Применить",
        "btn.reset": "Сбросить",
        "btn.checkout": "Перейти к оформлению",

        "sort.popular": "Сначала популярные",
        "sort.priceAsc": "Сначала дешёвые",
        "sort.priceDesc": "Сначала дорогие",

        "catalog.found": "Найдено",
        "catalog.empty": "Ничего не найдено. Попробуйте изменить фильтры.",
        "breadcrumbs.home": "Главная",
        "breadcrumbs.catalog": "Каталог",

        "product.notFound": "Товар не найден",
        "product.similar": "Похожие товары",

        "home.toCatalog": "В каталог",
        "home.myOrders": "Мои заказы",
        "home.popular": "Популярное",
        "home.recommended": "Рекомендуем",

        "footer.privacy": "Политика конфиденциальности",
        "footer.terms": "Условия использования",
        "footer.cookies": "Политика использования cookies",
        "footer.contacts": "Контакты",

        // RU — добавить внутрь bundle.ru
        "profile.title": "Профиль",
        "guest.notAuth": "Вы не авторизованы.",
        "guest.login": "Войти / Регистрация",
        "guest.home": "На главную",

        "tabs.profile": "Профиль",
        "tabs.address": "Адреса",
        "tabs.orders": "Заказы",
        "common.logout": "Выйти",

        "form.name": "Имя",
        "form.email": "Email",
        "form.save": "Сохранить",
        "profile.hint": "Эти данные используются для заказов и уведомлений.",

        "address.my": "Мои адреса",
        "address.add": "Добавить адрес",
        "address.sync": "Синхронизируем адреса…",
        "address.empty": "Адресов нет. Нажмите «Добавить адрес», чтобы создать первый.",
        "address.default": "По умолчанию",
        "address.makeDefault": "Сделать основным",
        "address.edit": "Редактировать",
        "address.delete": "Удалить",
        "address.editTitle": "Редактировать адрес",
        "address.newTitle": "Новый адрес",
        "address.setAsDefault": "Сделать адресом по умолчанию",
        "address.firstName": "Имя",
        "address.lastName": "Фамилия",
        "address.street": "Улица",
        "address.house": "Дом",
        "address.zip": "Индекс",
        "address.city": "Город",
        "address.phone": "Телефон",
        "address.note": "Комментарий",
        "address.pack.title": "DHL Packstation / Postfiliale (опционально)",
        "address.pack.type": "Тип пункта",
        "address.pack.postNumber": "Postnummer",
        "address.pack.stationNrPack": "Номер Packstation",
        "address.pack.stationNrFiliale": "Номер отделения",
        "address.pack.hint": "Эти поля нужны, если хотите доставку в пункт выдачи.",
        "address.packType.packstation": "Packstation",
        "address.packType.postfiliale": "Postfiliale",

        "common.cancel": "Отмена",
        "common.add": "Добавить",

        "address.validateRequired": "Пожалуйста, заполните имя, фамилию, индекс и город.",
        "address.deleteConfirm": "Удалить этот адрес?",
        "address.saveError": "Не удалось сохранить адрес.",
        "address.deleteError": "Не удалось удалить адрес.",
        "address.defaultError": "Не удалось изменить адрес по умолчанию.",

        "orders.empty": "Заказов пока нет.",
        "orders.goCatalog": "Перейти в каталог",

        "order.titleShort": "Заказ",
        "order.paid": "Оплачено",
        "order.awaitingPayment": "Ожидает оплаты",
        "order.openProduct": "Открыть товар",
        "order.total": "Итого",
        "order.cancel": "Отменить заказ",
        "order.return": "Запросить возврат",
        "order.cancelConfirm": "Отменить этот заказ?",
        "order.cancelled": "Заказ отменён.",

        "order.return.reason": "Причина",
        "order.return.select": "— выберите причину —",
        "order.return.reason.not_fit": "Не подошёл / не понравился",
        "order.return.reason.defect": "Брак / повреждение",
        "order.return.reason.wrong": "Неверный товар",
        "order.return.reason.other": "Другое",
        "order.return.commentOpt": "Комментарий (необязательно)",
        "order.return.commentPh": "Опишите детали, если нужно",
        "order.return.submit": "Отправить запрос",
        "order.return.hint": "После подтверждения мы пришлём инструкцию по возврату на ваш email.",
        "order.return.missingReason": "Пожалуйста, выберите причину возврата.",
        "order.return.sent": "Запрос на возврат отправлен.",

        "loading.profile": "Загружаем профиль…",

        "order.status.processing": "Обработка",
        "order.status.packed": "Собираем",
        "order.status.shipped": "Отправлен",
        "order.status.delivered": "Доставлен",
        "order.status.cancelled": "Отменён",
        "order.status.refund_requested": "Возврат запрошен",
        "order.status.refunded": "Возврат оформлен",

        "auth.tabs.login": "Вход",
        "auth.tabs.register": "Регистрация",

        "auth.field.email": "Email",
        "auth.field.password": "Пароль",
        "auth.field.name": "Имя",

        "auth.agree": "Я согласен с условиями и политикой конфиденциальности.",

        "auth.btn.login": "Войти",
        "auth.btn.login.busy": "Входим…",
        "auth.btn.register": "Создать аккаунт",
        "auth.btn.register.busy": "Создаём…",

        "auth.switch.noAccount": "Нет аккаунта?",
        "auth.switch.haveAccount": "Уже есть аккаунт?",
        "auth.switch.create": "Создать",
        "auth.switch.login": "Войти",

        "auth.backHome": "На главную",

        "auth.err.loginFailed": "Не удалось войти.",
        "auth.err.registerFailed": "Не удалось создать аккаунт.",
        "auth.err.agreeRequired": "Необходимо согласиться с условиями.",

        "cart.empty": "Корзина пуста",
        "cart.total": "Итого",
        "product.open": "Открыть товар",



        // ru
        "checkout.title": "Оформление заказа",
        "checkout.recipient": "Получатель",
        "field.firstName": "Имя (Vorname)",
        "field.lastName": "Фамилия (Nachname)",
        "field.email": "Email",
        "field.phoneOptional": "Телефон (опционально)",
        "checkout.shippingTitle": "Доставка (Deutschland, DHL)",
        "ship.dhl": "DHL Paket • 2–3 Werktage",
        "ship.express": "DHL Express • 1 Werktag",
        "ship.packstation": "DHL Packstation / Postfiliale",
        "ship.pickup": "Самовывоз • Berlin-Mitte",
        "ship.tracking": "отслеживание",
        "ship.freeFrom49WithYouFree": "Бесплатно от 49 € — у вас бесплатно",
        "ship.express.meta": "курьер, приоритетная обработка",
        "ship.pickup.meta": "после подтверждения, без очереди",
        "eta.express": "1 Werktag",
        "eta.pickup": "Сразу после подтверждения (самовывоз)",
        "eta.standard": "2–3 Werktage",

        "checkout.address.title": "Адрес доставки",
        "checkout.address.saved": "Сохранённый",
        "checkout.address.new": "Новый",
        "checkout.address.choose": "Выберите адрес",
        "address.primarySuffix": " — основной",
        "checkout.address.manage": "Управлять адресами",
        "checkout.address.noSuitable": "Нет подходящего адреса. Переключитесь на «Новый» или добавьте адрес в профиле.",

        "field.pack.type": "Тип пункта",
        "field.postnummer": "Postnummer (DHL Kunden-Nr)",
        "field.packstationNr": "Packstation Nr",
        "field.filialeNr": "Filiale Nr",
        "field.plz": "PLZ",
        "field.city": "Город (Ort)",
        "field.street": "Улица (Straße)",
        "field.house": "Дом (Hausnummer)",
        "field.courierNote": "Комментарий для курьера (необязательно)",
        "placeholder.courierNote": "Звонить перед доставкой, оставить у соседа и т.п.",

        "checkout.saveAddress": "Сохранить адрес в моих адресах",
        "checkout.makeDefault": "Сделать основным",
        "checkout.saveNow": "Сохранить адрес сейчас",
        "checkout.fillRequired": "Заполните обязательные поля",
        "checkout.saveNowTitle": "Сохранит адрес не переходя к оплате",
        "checkout.saved": "Сохранено ✓",

        "checkout.agree": "Я согласен с условиями и политикой возврата.",
        "checkout.submit": "Далее — к оплате",

        "alert.cartEmpty": "Корзина пуста",
        "alert.mustAgree": "Необходимо согласиться с условиями.",
        "alert.selectSavedOrManual": "Выберите сохранённый адрес или переключитесь на ввод вручную.",
        "alert.addrNotSuitablePack": "Выбранный адрес не подходит для Packstation/Postfiliale.",
        "alert.savedAddressMissingFields": "В сохранённом адресе не заполнены обязательные поля.",
        "alert.checkRequired": "Проверьте обязательные поля адреса.",
        "alert.saveAddressFailed": "Не удалось сохранить адрес.",

        "checkout.addMoreForFree": "Добавьте ещё {amount} для бесплатной доставки",
        "checkout.youHaveFree": "У вас бесплатная доставка",

        "checkout.itemsCount": "Товаров",
        "checkout.subtotal": "Сумма товаров",
        "checkout.shipping": "Доставка",
        "checkout.toPay": "К оплате",
        "checkout.vatIncluded": "Включая НДС 19%: {amount}",

        // payment
        "payment.title": "Оплата",
        "payment.formUnavailable": "Платёжная форма недоступна: не задан VITE_STRIPE_PUBLISHABLE_KEY при сборке. Задайте переменную окружения и пересоберите сайт.",
        "payment.loading": "Загружаем платёж…",
        "payment.createIntentFailed": "Не удалось создать платеж.",
        "payment.payByCardTitle": "Оплата картой",
        "payment.cardDetails": "Данные карты",
        "payment.processing": "Обработка…",
        "payment.pay": "Оплатить {amount}",
        "payment.orderSummary": "Итог заказа",
        "payment.items": "Товары",
        "payment.shipping": "Доставка",
        "payment.toPay": "К оплате",
        "payment.vatIncluded": "Включая НДС 19%: {amount}",
        "payment.declined": "Платёж отклонён.",
        "payment.notCompleted": "Платёж не был завершён. Попробуйте ещё раз.",
        "payment.method.pickup": "Самовывоз — Berlin-Mitte",
        "payment.method.dhl": "DHL Paket",
        "payment.method.express": "DHL Express",
        "payment.method.packstation": "DHL Packstation",
        "payment.method.postfiliale": "DHL Postfiliale",

        "stars.of5": "из 5",
        "reviews.reviews": "отзывов",
        "reviews.sort.new": "Сначала новые",
        "reviews.sort.helpful": "Сначала полезные",
        "reviews.sort.high": "С высокой оценкой",
        "reviews.sort.low": "С низкой оценкой",
        "reviews.loading": "Загружаем отзывы…",
        "reviews.empty": "Пока нет отзывов — будьте первым!",
        "common.showMore": "Показать ещё",
        "reviews.addTitle": "Добавить отзыв",
        "reviews.yourRating": "Ваша оценка:",
        "reviews.namePlaceholder": "Имя",
        "reviews.textPlaceholder": "Ваш отзыв",
        "reviews.submit": "Опубликовать",
        "reviews.submitting": "Отправка…",
        "reviews.helpfulCount": "👍 Полезно {n}",
        "reviews.helpfulAria": "Отзыв был полезен",
        "reviews.submitError": "Не удалось отправить отзыв. Попробуйте ещё раз.",

        "delivery.title": "Доставка и оплата",
        "delivery.calcFor": "Расчёт для",
        "delivery.qty.dec": "Уменьшить",
        "delivery.qty.inc": "Увеличить",
        "delivery.qty.label": "Количество",
        "delivery.ship.optionsAria": "Варианты доставки",
        "delivery.paket.sub": "2–3 Werktage",
        "delivery.express.sub": "1 Werktag",
        "delivery.pack.pickup": "самовывоз",
        "delivery.freeBadge": "Бесплатная доставка",
        "delivery.freeLine": "Бесплатно от {threshold} · не хватает {left}",
        "delivery.pickup.title": "Самовывоз (Berlin-Mitte)",
        "delivery.pickup.sub": "сегодня/завтра после подтверждения",

        "delivery.find.title": "Найти ближайшую Packstation",
        "delivery.find.cityPlaceholder": "Город (опц.)",
        "delivery.find.search": "Найти",
        "delivery.find.badPlz": "Введите корректный PLZ (минимум 3 цифры).",
        "delivery.find.loading": "Ищем ближайшие пункты…",
        "delivery.find.empty": "Рядом ничего не найдено. Попробуйте другой PLZ/город.",
        "delivery.find.error": "Не удалось получить пункты DHL.",
        "delivery.find.choose": "Выбрать",
        "delivery.find.savedPrefix": "Сохранено:",
        "delivery.find.openCheckoutHint": "Откройте «Оформление», чтобы выбрать этот пункт.",

        "delivery.info.vat.title": "НДС (MwSt)",
        "delivery.info.vat.text": "Цена включает 19% НДС. Для {qty} шт: ≈ {amount}.",
        "delivery.info.pay.title": "Оплата",
        "delivery.info.pay.text": "Klarna, Visa, Mastercard, Amazon Pay",
        "delivery.info.return.title": "Возврат",
        "delivery.info.return.text": "14 дней. Товары без следов использования и в оригинальной упаковке.",
        "delivery.hint": "Способ и стоимость доставки выбираются на шаге «Оформление». Итог зависит от состава заказа.",


        "search.overlay.aria": "Поиск по каталогу",
        "search.input.placeholder": "Поиск по товарам…",
        "search.input.aria": "Поиск",
        "search.clear": "Очистить",
        "search.close": "Закрыть",
        "search.allResults": "Все результаты",
        "search.trending": "Популярное:",
        "search.trend.vitamins": "Витамины",
        "search.trend.omega3": "Omega-3",
        "search.trend.care": "Уход",
        "search.trend.gels": "Гели",
        "search.prompt": "Введите запрос: название товара, категорию или часть описания.",
        "search.empty": "Ничего не найдено.",
        "search.openCatalog": "Открыть каталог",
        "search.showAll": "Показать все результаты",
        "search.results.aria": "Результаты поиска",

        "filters.search.label": "Поиск",
        "filters.search.placeholder": "Название, описание...",
        "filters.categories.title": "Категории",
        "filters.categories.section": "Раздел",
        "filters.categories.subsection": "Подраздел",
        "filters.categories.category": "Категория",
        "filters.categories.resetPath": "Сбросить путь",
        "filters.price.title": "Цена, €",
        "filters.price.from": "От",
        "filters.price.to": "До",
        "filters.price.minAria": "Минимальная цена",
        "filters.price.maxAria": "Максимальная цена",
        "filters.rating.title": "Рейтинг",
        "filters.rating.all": "Все",
        "filters.sort.title": "Сортировка",
        "filters.actions.reset": "Сбросить фильтры",
        "filters.actions.apply": "Применить"


    },
    uk: {
        "nav.home": "Головна",
        "nav.catalog": "Каталог",
        "nav.orders": "Замовлення",
        "nav.profile": "Профіль",
        "nav.cart": "Кошик",

        "btn.addToCart": "До кошика",
        "btn.filters": "Фільтри",
        "btn.apply": "Застосувати",
        "btn.reset": "Скинути",
        "btn.checkout": "Перейти до оформлення",

        "sort.popular": "Спочатку популярні",
        "sort.priceAsc": "Спочатку дешеві",
        "sort.priceDesc": "Спочатку дорогі",

        "catalog.found": "Знайдено",
        "catalog.empty": "Нічого не знайдено. Спробуйте змінити фільтри.",
        "breadcrumbs.home": "Головна",
        "breadcrumbs.catalog": "Каталог",

        "product.notFound": "Товар не знайдено",
        "product.similar": "Схожі товари",

        "home.toCatalog": "До каталогу",
        "home.myOrders": "Мої замовлення",
        "home.popular": "Популярне",
        "home.recommended": "Рекомендуємо",

        "footer.privacy": "Політика конфіденційності",
        "footer.terms": "Умови використання",
        "footer.cookies": "Політика cookie",
        "footer.contacts": "Контакти",

        "profile.title": "Профіль",
        "guest.notAuth": "Ви не авторизовані.",
        "guest.login": "Увійти / Реєстрація",
        "guest.home": "На головну",

        "tabs.profile": "Профіль",
        "tabs.address": "Адреси",
        "tabs.orders": "Замовлення",
        "common.logout": "Вийти",

        "form.name": "Імʼя",
        "form.email": "Email",
        "form.save": "Зберегти",
        "profile.hint": "Ці дані використовуються для замовлень та сповіщень.",

        "address.my": "Мої адреси",
        "address.add": "Додати адресу",
        "address.sync": "Синхронізуємо адреси…",
        "address.empty": "Адрес немає. Натисніть «Додати адресу», щоб створити першу.",
        "address.default": "За замовчуванням",
        "address.makeDefault": "Зробити основною",
        "address.edit": "Редагувати",
        "address.delete": "Видалити",
        "address.editTitle": "Редагувати адресу",
        "address.newTitle": "Нова адреса",
        "address.setAsDefault": "Зробити адресою за замовчуванням",
        "address.firstName": "Імʼя",
        "address.lastName": "Прізвище",
        "address.street": "Вулиця",
        "address.house": "Будинок",
        "address.zip": "Поштовий індекс",
        "address.city": "Місто",
        "address.phone": "Телефон",
        "address.note": "Коментар",
        "address.pack.title": "DHL Packstation / Postfiliale (необовʼязково)",
        "address.pack.type": "Тип пункту",
        "address.pack.postNumber": "Postnummer",
        "address.pack.stationNrPack": "Номер Packstation",
        "address.pack.stationNrFiliale": "Номер відділення",
        "address.pack.hint": "Ці поля потрібні, якщо хочете доставку у пункт видачі.",
        "address.packType.packstation": "Packstation",
        "address.packType.postfiliale": "Postfiliale",

        "common.cancel": "Скасувати",
        "common.add": "Додати",

        "address.validateRequired": "Будь ласка, заповніть імʼя, прізвище, індекс і місто.",
        "address.deleteConfirm": "Видалити цю адресу?",
        "address.saveError": "Не вдалося зберегти адресу.",
        "address.deleteError": "Не вдалося видалити адресу.",
        "address.defaultError": "Не вдалося змінити адресу за замовчуванням.",

        "orders.empty": "Замовлень поки немає.",
        "orders.goCatalog": "Перейти до каталогу",

        "order.titleShort": "Замовлення",
        "order.paid": "Сплачено",
        "order.awaitingPayment": "Очікує оплати",
        "order.openProduct": "Відкрити товар",
        "order.total": "Разом",
        "order.cancel": "Скасувати замовлення",
        "order.return": "Запросити повернення",
        "order.cancelConfirm": "Скасувати це замовлення?",
        "order.cancelled": "Замовлення скасовано.",

        "order.return.reason": "Причина",
        "order.return.select": "— оберіть причину —",
        "order.return.reason.not_fit": "Не підійшов / не сподобався",
        "order.return.reason.defect": "Брак / пошкодження",
        "order.return.reason.wrong": "Невірний товар",
        "order.return.reason.other": "Інше",
        "order.return.commentOpt": "Коментар (необовʼязково)",
        "order.return.commentPh": "Опишіть деталі, якщо потрібно",
        "order.return.submit": "Надіслати запит",
        "order.return.hint": "Після підтвердження ми надішлемо інструкцію з повернення на ваш email.",
        "order.return.missingReason": "Будь ласка, оберіть причину повернення.",
        "order.return.sent": "Запит на повернення надіслано.",

        "loading.profile": "Завантажуємо профіль…",

        "order.status.processing": "Опрацювання",
        "order.status.packed": "Комплектуємо",
        "order.status.shipped": "Відправлено",
        "order.status.delivered": "Доставлено",
        "order.status.cancelled": "Скасовано",
        "order.status.refund_requested": "Повернення запитано",
        "order.status.refunded": "Повернення оформлено",

        "auth.tabs.login": "Вхід",
        "auth.tabs.register": "Реєстрація",

        "auth.field.email": "Email",
        "auth.field.password": "Пароль",
        "auth.field.name": "Імʼя",

        "auth.agree": "Я погоджуюся з умовами та політикою конфіденційності.",

        "auth.btn.login": "Увійти",
        "auth.btn.login.busy": "Входимо…",
        "auth.btn.register": "Створити акаунт",
        "auth.btn.register.busy": "Створюємо…",

        "auth.switch.noAccount": "Немає акаунта?",
        "auth.switch.haveAccount": "Вже є акаунт?",
        "auth.switch.create": "Створити",
        "auth.switch.login": "Увійти",

        "auth.backHome": "На головну",

        "auth.err.loginFailed": "Не вдалося увійти.",
        "auth.err.registerFailed": "Не вдалося створити акаунт.",
        "auth.err.agreeRequired": "Потрібно погодитися з умовами.",

        "cart.empty": "Кошик порожній",
        "cart.total": "Разом",
        "product.open": "Відкрити товар",

        // uk
        "checkout.title": "Оформлення замовлення",
        "checkout.recipient": "Одержувач",
        "field.firstName": "Ім'я (Vorname)",
        "field.lastName": "Прізвище (Nachname)",
        "field.email": "Email",
        "field.phoneOptional": "Телефон (необов'язково)",
        "checkout.shippingTitle": "Доставка (Німеччина, DHL)",
        "ship.dhl": "DHL Paket • 2–3 Werktage",
        "ship.express": "DHL Express • 1 Werktag",
        "ship.packstation": "DHL Packstation / Postfiliale",
        "ship.pickup": "Самовивіз • Berlin-Mitte",
        "ship.tracking": "відстеження",
        "ship.freeFrom49WithYouFree": "Безкоштовно від 49 € — у вас безкоштовно",
        "ship.express.meta": "кур'єр, пріоритетна обробка",
        "ship.pickup.meta": "після підтвердження, без черги",
        "eta.express": "1 Werktag",
        "eta.pickup": "Одразу після підтвердження (самовивіз)",
        "eta.standard": "2–3 Werktage",

        "checkout.address.title": "Адреса доставки",
        "checkout.address.saved": "Збережена",
        "checkout.address.new": "Нова",
        "checkout.address.choose": "Оберіть адресу",
        "address.primarySuffix": " — основна",
        "checkout.address.manage": "Керувати адресами",
        "checkout.address.noSuitable": "Немає відповідної адреси. Перемкніться на «Нова» або додайте адресу в профілі.",

        "field.pack.type": "Тип пункту",
        "field.postnummer": "Postnummer (DHL Kunden-Nr)",
        "field.packstationNr": "Packstation Nr",
        "field.filialeNr": "Filiale Nr",
        "field.plz": "PLZ",
        "field.city": "Місто (Ort)",
        "field.street": "Вулиця (Straße)",
        "field.house": "Будинок (Hausnummer)",
        "field.courierNote": "Коментар для кур'єра (необов'язково)",
        "placeholder.courierNote": "Телефонувати перед доставкою, залишити в сусіда тощо",

        "checkout.saveAddress": "Зберегти адресу в моїх адресах",
        "checkout.makeDefault": "Зробити основною",
        "checkout.saveNow": "Зберегти адресу зараз",
        "checkout.fillRequired": "Заповніть обов'язкові поля",
        "checkout.saveNowTitle": "Збереже адресу без переходу до оплати",
        "checkout.saved": "Збережено ✓",

        "checkout.agree": "Я погоджуюся з умовами та політикою повернення.",
        "checkout.submit": "Далі — до оплати",

        "alert.cartEmpty": "Кошик порожній",
        "alert.mustAgree": "Потрібно погодитися з умовами.",
        "alert.selectSavedOrManual": "Оберіть збережену адресу або перейдіть до ручного вводу.",
        "alert.addrNotSuitablePack": "Обрана адреса не підходить для Packstation/Postfiliale.",
        "alert.savedAddressMissingFields": "У збереженій адресі не заповнені обов'язкові поля.",
        "alert.checkRequired": "Перевірте обов'язкові поля адреси.",
        "alert.saveAddressFailed": "Не вдалося зберегти адресу.",

        "checkout.addMoreForFree": "Додайте ще {amount}, щоб отримати безкоштовну доставку",
        "checkout.youHaveFree": "У вас безкоштовна доставка",

        "checkout.itemsCount": "Товарів",
        "checkout.subtotal": "Сума товарів",
        "checkout.shipping": "Доставка",
        "checkout.toPay": "До оплати",
        "checkout.vatIncluded": "Включно з ПДВ 19%: {amount}",

        "payment.title": "Оплата",
        "payment.formUnavailable": "Платіжна форма недоступна: не задано VITE_STRIPE_PUBLISHABLE_KEY під час збирання. Задайте змінну середовища та зберіть сайт.",
        "payment.loading": "Завантажуємо платіж…",
        "payment.createIntentFailed": "Не вдалося створити платіж.",
        "payment.payByCardTitle": "Оплата карткою",
        "payment.cardDetails": "Дані картки",
        "payment.processing": "Обробка…",
        "payment.pay": "Сплатити {amount}",
        "payment.orderSummary": "Підсумок замовлення",
        "payment.items": "Товари",
        "payment.shipping": "Доставка",
        "payment.toPay": "До оплати",
        "payment.vatIncluded": "Включно з ПДВ 19%: {amount}",
        "payment.declined": "Платіж відхилено.",
        "payment.notCompleted": "Платіж не завершено. Спробуйте ще раз.",
        "payment.method.pickup": "Самовивіз — Berlin-Mitte",
        "payment.method.dhl": "DHL Paket",
        "payment.method.express": "DHL Express",
        "payment.method.packstation": "DHL Packstation",
        "payment.method.postfiliale": "DHL Postfiliale",


        "stars.of5": "з 5",
        "reviews.reviews": "відгуків",
        "reviews.sort.new": "Спочатку нові",
        "reviews.sort.helpful": "Спочатку корисні",
        "reviews.sort.high": "З високою оцінкою",
        "reviews.sort.low": "З низькою оцінкою",
        "reviews.loading": "Завантажуємо відгуки…",
        "reviews.empty": "Поки немає відгуків — будьте першим!",
        "common.showMore": "Показати ще",
        "reviews.addTitle": "Додати відгук",
        "reviews.yourRating": "Ваша оцінка:",
        "reviews.namePlaceholder": "Ім'я",
        "reviews.textPlaceholder": "Ваш відгук",
        "reviews.submit": "Опублікувати",
        "reviews.submitting": "Надсилання…",
        "reviews.helpfulCount": "👍 Корисно {n}",
        "reviews.helpfulAria": "Відгук був корисним",
        "reviews.submitError": "Не вдалося надіслати відгук. Спробуйте ще раз.",

        "delivery.title": "Доставка та оплата",
        "delivery.calcFor": "Розрахунок для",
        "delivery.qty.dec": "Зменшити",
        "delivery.qty.inc": "Збільшити",
        "delivery.qty.label": "Кількість",
        "delivery.ship.optionsAria": "Варіанти доставки",
        "delivery.paket.sub": "2–3 Werktage",
        "delivery.express.sub": "1 Werktag",
        "delivery.pack.pickup": "самовивіз",
        "delivery.freeBadge": "Безкоштовна доставка",
        "delivery.freeLine": "Безкоштовно від {threshold} · не вистачає {left}",
        "delivery.pickup.title": "Самовивіз (Berlin-Mitte)",
        "delivery.pickup.sub": "сьогодні/завтра після підтвердження",

        "delivery.find.title": "Знайти найближчу Packstation",
        "delivery.find.cityPlaceholder": "Місто (необов.)",
        "delivery.find.search": "Знайти",
        "delivery.find.badPlz": "Введіть коректний PLZ (мінімум 3 цифри).",
        "delivery.find.loading": "Шукаємо найближчі пункти…",
        "delivery.find.empty": "Поряд нічого не знайдено. Спробуйте інший PLZ/місто.",
        "delivery.find.error": "Не вдалося отримати пункти DHL.",
        "delivery.find.choose": "Обрати",
        "delivery.find.savedPrefix": "Збережено:",
        "delivery.find.openCheckoutHint": "Відкрийте «Оформлення», щоб вибрати цей пункт.",

        "delivery.info.vat.title": "ПДВ (MwSt)",
        "delivery.info.vat.text": "Ціна включає 19% ПДВ. Для {qty} шт: ≈ {amount}.",
        "delivery.info.pay.title": "Оплата",
        "delivery.info.pay.text": "Klarna, Visa, Mastercard, Amazon Pay",
        "delivery.info.return.title": "Повернення",
        "delivery.info.return.text": "14 днів. Товари без слідів використання та в оригінальній упаковці.",
        "delivery.hint": "Спосіб і вартість доставки обираються на кроці «Оформлення». Підсумок залежить від складу замовлення.",


        "search.overlay.aria": "Пошук по каталогу",
        "search.input.placeholder": "Пошук товарів…",
        "search.input.aria": "Пошук",
        "search.clear": "Очистити",
        "search.close": "Закрити",
        "search.allResults": "Усі результати",
        "search.trending": "Популярне:",
        "search.trend.vitamins": "Вітаміни",
        "search.trend.omega3": "Omega-3",
        "search.trend.care": "Догляд",
        "search.trend.gels": "Гелі",
        "search.prompt": "Введіть запит: назву товару, категорію або частину опису.",
        "search.empty": "Нічого не знайдено.",
        "search.openCatalog": "Відкрити каталог",
        "search.showAll": "Показати всі результати",
        "search.results.aria": "Результати пошуку",

        "filters.search.label": "Пошук",
        "filters.search.placeholder": "Назва, опис...",
        "filters.categories.title": "Категорії",
        "filters.categories.section": "Розділ",
        "filters.categories.subsection": "Підрозділ",
        "filters.categories.category": "Категорія",
        "filters.categories.resetPath": "Скинути шлях",
        "filters.price.title": "Ціна, €",
        "filters.price.from": "Від",
        "filters.price.to": "До",
        "filters.price.minAria": "Мінімальна ціна",
        "filters.price.maxAria": "Максимальна ціна",
        "filters.rating.title": "Рейтинг",
        "filters.rating.all": "Усі",
        "filters.sort.title": "Сортування",
        "filters.actions.reset": "Скинути фільтри",
        "filters.actions.apply": "Застосувати"



    },
    en: {
        "nav.home": "Home",
        "nav.catalog": "Catalog",
        "nav.orders": "Orders",
        "nav.profile": "Profile",
        "nav.cart": "Cart",

        "btn.addToCart": "Add to cart",
        "btn.filters": "Filters",
        "btn.apply": "Apply",
        "btn.reset": "Reset",
        "btn.checkout": "Checkout",

        "sort.popular": "Most popular",
        "sort.priceAsc": "Price: low to high",
        "sort.priceDesc": "Price: high to low",

        "catalog.found": "Found",
        "catalog.empty": "Nothing found. Try changing filters.",
        "breadcrumbs.home": "Home",
        "breadcrumbs.catalog": "Catalog",

        "product.notFound": "Product not found",
        "product.similar": "Similar products",

        "home.toCatalog": "Shop now",
        "home.myOrders": "My orders",
        "home.popular": "Popular",
        "home.recommended": "Recommended",

        "footer.privacy": "Privacy Policy",
        "footer.terms": "Terms of Use",
        "footer.cookies": "Cookie Policy",
        "footer.contacts": "Contacts",

        "profile.title": "Profile",
        "guest.notAuth": "You are not signed in.",
        "guest.login": "Sign in / Register",
        "guest.home": "Home",

        "tabs.profile": "Profile",
        "tabs.address": "Addresses",
        "tabs.orders": "Orders",
        "common.logout": "Log out",

        "form.name": "Name",
        "form.email": "Email",
        "form.save": "Save",
        "profile.hint": "These details are used for orders and notifications.",

        "address.my": "My addresses",
        "address.add": "Add address",
        "address.sync": "Syncing addresses…",
        "address.empty": "No addresses yet. Click “Add address” to create the first one.",
        "address.default": "Default",
        "address.makeDefault": "Make default",
        "address.edit": "Edit",
        "address.delete": "Delete",
        "address.editTitle": "Edit address",
        "address.newTitle": "New address",
        "address.setAsDefault": "Set as default address",
        "address.firstName": "First name",
        "address.lastName": "Last name",
        "address.street": "Street",
        "address.house": "House number",
        "address.zip": "ZIP code",
        "address.city": "City",
        "address.phone": "Phone",
        "address.note": "Comment",
        "address.pack.title": "DHL Packstation / Postfiliale (optional)",
        "address.pack.type": "Location type",
        "address.pack.postNumber": "Post number",
        "address.pack.stationNrPack": "Packstation No.",
        "address.pack.stationNrFiliale": "Branch No.",
        "address.pack.hint": "Fill these if you want delivery to a pickup point.",
        "address.packType.packstation": "Packstation",
        "address.packType.postfiliale": "Postfiliale",

        "common.cancel": "Cancel",
        "common.add": "Add",

        "address.validateRequired": "Please fill first name, last name, ZIP code and city.",
        "address.deleteConfirm": "Delete this address?",
        "address.saveError": "Failed to save the address.",
        "address.deleteError": "Failed to delete the address.",
        "address.defaultError": "Failed to change the default address.",

        "orders.empty": "No orders yet.",
        "orders.goCatalog": "Browse catalog",

        "order.titleShort": "Order",
        "order.paid": "Paid",
        "order.awaitingPayment": "Awaiting payment",
        "order.openProduct": "View product",
        "order.total": "Total",
        "order.cancel": "Cancel order",
        "order.return": "Request a return",
        "order.cancelConfirm": "Cancel this order?",
        "order.cancelled": "Order cancelled.",

        "order.return.reason": "Reason",
        "order.return.select": "— select a reason —",
        "order.return.reason.not_fit": "Didn’t fit / didn’t like",
        "order.return.reason.defect": "Defect / damage",
        "order.return.reason.wrong": "Wrong item",
        "order.return.reason.other": "Other",
        "order.return.commentOpt": "Comment (optional)",
        "order.return.commentPh": "Describe details if needed",
        "order.return.submit": "Send request",
        "order.return.hint": "After approval we’ll email you the return instructions.",
        "order.return.missingReason": "Please choose a return reason.",
        "order.return.sent": "Return request sent.",

        "loading.profile": "Loading profile…",

        "order.status.processing": "Processing",
        "order.status.packed": "Packing",
        "order.status.shipped": "Shipped",
        "order.status.delivered": "Delivered",
        "order.status.cancelled": "Cancelled",
        "order.status.refund_requested": "Return requested",
        "order.status.refunded": "Refunded",

        "auth.tabs.login": "Sign in",
        "auth.tabs.register": "Register",

        "auth.field.email": "Email",
        "auth.field.password": "Password",
        "auth.field.name": "Name",

        "auth.agree": "I agree to the Terms and Privacy Policy.",

        "auth.btn.login": "Sign in",
        "auth.btn.login.busy": "Signing in…",
        "auth.btn.register": "Create account",
        "auth.btn.register.busy": "Creating…",

        "auth.switch.noAccount": "No account?",
        "auth.switch.haveAccount": "Already have an account?",
        "auth.switch.create": "Create",
        "auth.switch.login": "Sign in",

        "auth.backHome": "Home",

        "auth.err.loginFailed": "Failed to sign in.",
        "auth.err.registerFailed": "Failed to create account.",
        "auth.err.agreeRequired": "You must agree to the terms.",

        "cart.empty": "Your cart is empty",
        "cart.total": "Total",
        "product.open": "View product",

        // en
        "checkout.title": "Checkout",
        "checkout.recipient": "Recipient",
        "field.firstName": "First name",
        "field.lastName": "Last name",
        "field.email": "Email",
        "field.phoneOptional": "Phone (optional)",
        "checkout.shippingTitle": "Shipping (Germany, DHL)",
        "ship.dhl": "DHL Paket • 2–3 Werktage",
        "ship.express": "DHL Express • 1 Werktag",
        "ship.packstation": "DHL Packstation / Postfiliale",
        "ship.pickup": "Pickup • Berlin-Mitte",
        "ship.tracking": "tracking",
        "ship.freeFrom49WithYouFree": "Free from €49 — you're free",
        "ship.express.meta": "courier, priority handling",
        "ship.pickup.meta": "after confirmation, no queue",
        "eta.express": "1 business day",
        "eta.pickup": "Right after confirmation (pickup)",
        "eta.standard": "2–3 business days",

        "checkout.address.title": "Delivery address",
        "checkout.address.saved": "Saved",
        "checkout.address.new": "New",
        "checkout.address.choose": "Choose address",
        "address.primarySuffix": " — default",
        "checkout.address.manage": "Manage addresses",
        "checkout.address.noSuitable": "No suitable address. Switch to “New” or add an address in your profile.",

        "field.pack.type": "Location type",
        "field.postnummer": "Postnummer (DHL customer no.)",
        "field.packstationNr": "Packstation No",
        "field.filialeNr": "Filiale No",
        "field.plz": "ZIP",
        "field.city": "City",
        "field.street": "Street",
        "field.house": "House number",
        "field.courierNote": "Note for courier (optional)",
        "placeholder.courierNote": "Call before delivery, leave with neighbor, etc.",

        "checkout.saveAddress": "Save address to my addresses",
        "checkout.makeDefault": "Make default",
        "checkout.saveNow": "Save address now",
        "checkout.fillRequired": "Fill required fields",
        "checkout.saveNowTitle": "Save without going to payment",
        "checkout.saved": "Saved ✓",

        "checkout.agree": "I agree to the terms and return policy.",
        "checkout.submit": "Continue to payment",

        "alert.cartEmpty": "Your cart is empty",
        "alert.mustAgree": "You must agree to the terms.",
        "alert.selectSavedOrManual": "Choose a saved address or switch to manual input.",
        "alert.addrNotSuitablePack": "Selected address is not valid for Packstation/Postfiliale.",
        "alert.savedAddressMissingFields": "Required fields are missing in the saved address.",
        "alert.checkRequired": "Please check required address fields.",
        "alert.saveAddressFailed": "Failed to save address.",

        "checkout.addMoreForFree": "Add {amount} more for free shipping",
        "checkout.youHaveFree": "You have free shipping",

        "checkout.itemsCount": "Items",
        "checkout.subtotal": "Subtotal",
        "checkout.shipping": "Shipping",
        "checkout.toPay": "Total",
        "checkout.vatIncluded": "Incl. VAT 19%: {amount}",

        "payment.title": "Payment",
        "payment.formUnavailable": "Payment form unavailable: VITE_STRIPE_PUBLISHABLE_KEY is not set at build time. Set the env var and rebuild.",
        "payment.loading": "Loading payment…",
        "payment.createIntentFailed": "Failed to create payment.",
        "payment.payByCardTitle": "Card payment",
        "payment.cardDetails": "Card details",
        "payment.processing": "Processing…",
        "payment.pay": "Pay {amount}",
        "payment.orderSummary": "Order summary",
        "payment.items": "Items",
        "payment.shipping": "Shipping",
        "payment.toPay": "Total",
        "payment.vatIncluded": "Incl. VAT 19%: {amount}",
        "payment.declined": "Payment declined.",
        "payment.notCompleted": "Payment was not completed. Please try again.",
        "payment.method.pickup": "Pickup — Berlin-Mitte",
        "payment.method.dhl": "DHL Paket",
        "payment.method.express": "DHL Express",
        "payment.method.packstation": "DHL Packstation",
        "payment.method.postfiliale": "DHL Postfiliale",

        "stars.of5": "out of 5",
        "reviews.reviews": "reviews",
        "reviews.sort.new": "Newest first",
        "reviews.sort.helpful": "Most helpful",
        "reviews.sort.high": "Highest rating",
        "reviews.sort.low": "Lowest rating",
        "reviews.loading": "Loading reviews…",
        "reviews.empty": "No reviews yet — be the first!",
        "common.showMore": "Show more",
        "reviews.addTitle": "Add a review",
        "reviews.yourRating": "Your rating:",
        "reviews.namePlaceholder": "Name",
        "reviews.textPlaceholder": "Your review",
        "reviews.submit": "Publish",
        "reviews.submitting": "Submitting…",
        "reviews.helpfulCount": "👍 Helpful {n}",
        "reviews.helpfulAria": "Review was helpful",
        "reviews.submitError": "Couldn't send the review. Please try again.",

        "delivery.title": "Shipping & payment",
        "delivery.calcFor": "Estimate for",
        "delivery.qty.dec": "Decrease",
        "delivery.qty.inc": "Increase",
        "delivery.qty.label": "Quantity",
        "delivery.ship.optionsAria": "Shipping options",
        "delivery.paket.sub": "2–3 business days",
        "delivery.express.sub": "1 business day",
        "delivery.pack.pickup": "pickup",
        "delivery.freeBadge": "Free shipping",
        "delivery.freeLine": "Free from {threshold} · missing {left}",
        "delivery.pickup.title": "Pickup (Berlin-Mitte)",
        "delivery.pickup.sub": "today/tomorrow after confirmation",

        "delivery.find.title": "Find a nearby Packstation",
        "delivery.find.cityPlaceholder": "City (optional)",
        "delivery.find.search": "Search",
        "delivery.find.badPlz": "Enter a valid PLZ (at least 3 digits).",
        "delivery.find.loading": "Searching nearby points…",
        "delivery.find.empty": "Nothing found nearby. Try another PLZ/city.",
        "delivery.find.error": "Failed to fetch DHL locations.",
        "delivery.find.choose": "Choose",
        "delivery.find.savedPrefix": "Saved:",
        "delivery.find.openCheckoutHint": "Open “Checkout” to select this point.",

        "delivery.info.vat.title": "VAT (MwSt)",
        "delivery.info.vat.text": "Price includes 19% VAT. For {qty} pcs: ≈ {amount}.",
        "delivery.info.pay.title": "Payment",
        "delivery.info.pay.text": "Klarna, Visa, Mastercard, Amazon Pay",
        "delivery.info.return.title": "Returns",
        "delivery.info.return.text": "14 days. Items unused and in original packaging.",
        "delivery.hint": "Shipping method and cost are chosen at the “Checkout” step. The total depends on the cart contents.",


        "search.overlay.aria": "Catalog search",
        "search.input.placeholder": "Search products…",
        "search.input.aria": "Search",
        "search.clear": "Clear",
        "search.close": "Close",
        "search.allResults": "All results",
        "search.trending": "Trending:",
        "search.trend.vitamins": "Vitamins",
        "search.trend.omega3": "Omega-3",
        "search.trend.care": "Care",
        "search.trend.gels": "Gels",
        "search.prompt": "Type a query: product name, category, or a part of the description.",
        "search.empty": "Nothing found.",
        "search.openCatalog": "Open catalog",
        "search.showAll": "Show all results",
        "search.results.aria": "Search results",


        "filters.search.label": "Search",
        "filters.search.placeholder": "Name, description...",
        "filters.categories.title": "Categories",
        "filters.categories.section": "Section",
        "filters.categories.subsection": "Subsection",
        "filters.categories.category": "Category",
        "filters.categories.resetPath": "Clear path",
        "filters.price.title": "Price, €",
        "filters.price.from": "From",
        "filters.price.to": "To",
        "filters.price.minAria": "Minimum price",
        "filters.price.maxAria": "Maximum price",
        "filters.rating.title": "Rating",
        "filters.rating.all": "All",
        "filters.sort.title": "Sort",
        "filters.actions.reset": "Reset filters",
        "filters.actions.apply": "Apply"

    },
    de: {
        "nav.home": "Startseite",
        "nav.catalog": "Katalog",
        "nav.orders": "Bestellungen",
        "nav.profile": "Profil",
        "nav.cart": "Warenkorb",

        "btn.addToCart": "In den Warenkorb",
        "btn.filters": "Filter",
        "btn.apply": "Anwenden",
        "btn.reset": "Zurücksetzen",
        "btn.checkout": "Zur Kasse",

        "sort.popular": "Beliebteste zuerst",
        "sort.priceAsc": "Preis: aufsteigend",
        "sort.priceDesc": "Preis: absteigend",

        "catalog.found": "Gefunden",
        "catalog.empty": "Nichts gefunden. Versuchen Sie, die Filter zu ändern.",
        "breadcrumbs.home": "Startseite",
        "breadcrumbs.catalog": "Katalog",

        "product.notFound": "Produkt nicht gefunden",
        "product.similar": "Ähnliche Produkte",

        "home.toCatalog": "Zum Katalog",
        "home.myOrders": "Meine Bestellungen",
        "home.popular": "Beliebt",
        "home.recommended": "Empfohlen",

        "footer.privacy": "Datenschutzerklärung",
        "footer.terms": "Nutzungsbedingungen",
        "footer.cookies": "Cookie-Richtlinie",
        "footer.contacts": "Kontakt",

        "profile.title": "Profil",
        "guest.notAuth": "Sie sind nicht angemeldet.",
        "guest.login": "Anmelden / Registrieren",
        "guest.home": "Zur Startseite",

        "tabs.profile": "Profil",
        "tabs.address": "Adressen",
        "tabs.orders": "Bestellungen",
        "common.logout": "Abmelden",

        "form.name": "Name",
        "form.email": "E-Mail",
        "form.save": "Speichern",
        "profile.hint": "Diese Daten werden für Bestellungen und Benachrichtigungen verwendet.",

        "address.my": "Meine Adressen",
        "address.add": "Adresse hinzufügen",
        "address.sync": "Adressen werden synchronisiert…",
        "address.empty": "Noch keine Adressen. Klicken Sie auf „Adresse hinzufügen“, um die erste zu erstellen.",
        "address.default": "Standard",
        "address.makeDefault": "Als Standard setzen",
        "address.edit": "Bearbeiten",
        "address.delete": "Löschen",
        "address.editTitle": "Adresse bearbeiten",
        "address.newTitle": "Neue Adresse",
        "address.setAsDefault": "Als Standardadresse setzen",
        "address.firstName": "Vorname",
        "address.lastName": "Nachname",
        "address.street": "Straße",
        "address.house": "Hausnummer",
        "address.zip": "PLZ",
        "address.city": "Ort",
        "address.phone": "Telefon",
        "address.note": "Kommentar",
        "address.pack.title": "DHL Packstation / Postfiliale (optional)",
        "address.pack.type": "Typ des Abholpunkts",
        "address.pack.postNumber": "Postnummer",
        "address.pack.stationNrPack": "Packstation-Nr.",
        "address.pack.stationNrFiliale": "Filiale-Nr.",
        "address.pack.hint": "Diese Felder ausfüllen, wenn Sie an einen Abholpunkt liefern lassen möchten.",
        "address.packType.packstation": "Packstation",
        "address.packType.postfiliale": "Postfiliale",

        "common.cancel": "Abbrechen",
        "common.add": "Hinzufügen",

        "address.validateRequired": "Bitte füllen Sie Vorname, Nachname, PLZ und Ort aus.",
        "address.deleteConfirm": "Diese Adresse löschen?",
        "address.saveError": "Adresse konnte nicht gespeichert werden.",
        "address.deleteError": "Adresse konnte nicht gelöscht werden.",
        "address.defaultError": "Standardadresse konnte nicht geändert werden.",

        "orders.empty": "Noch keine Bestellungen.",
        "orders.goCatalog": "Zum Katalog",

        "order.titleShort": "Bestellung",
        "order.paid": "Bezahlt",
        "order.awaitingPayment": "Zahlung ausstehend",
        "order.openProduct": "Zum Produkt",
        "order.total": "Gesamt",
        "order.cancel": "Bestellung stornieren",
        "order.return": "Rückgabe anfordern",
        "order.cancelConfirm": "Diese Bestellung stornieren?",
        "order.cancelled": "Bestellung storniert.",

        "order.return.reason": "Grund",
        "order.return.select": "— Grund auswählen —",
        "order.return.reason.not_fit": "Passt nicht / gefällt nicht",
        "order.return.reason.defect": "Defekt / beschädigt",
        "order.return.reason.wrong": "Falscher Artikel",
        "order.return.reason.other": "Sonstiges",
        "order.return.commentOpt": "Kommentar (optional)",
        "order.return.commentPh": "Details bei Bedarf",
        "order.return.submit": "Anfrage senden",
        "order.return.hint": "Nach Bestätigung senden wir Ihnen per E-Mail die Rückgabeanweisungen.",
        "order.return.missingReason": "Bitte wählen Sie einen Rückgabegrund.",
        "order.return.sent": "Anfrage gesendet.",

        "loading.profile": "Profil wird geladen…",

        "order.status.processing": "In Bearbeitung",
        "order.status.packed": "Wird verpackt",
        "order.status.shipped": "Versandt",
        "order.status.delivered": "Zugestellt",
        "order.status.cancelled": "Storniert",
        "order.status.refund_requested": "Rückgabe angefragt",
        "order.status.refunded": "Erstattet",

        "auth.tabs.login": "Anmelden",
        "auth.tabs.register": "Registrieren",

        "auth.field.email": "E-Mail",
        "auth.field.password": "Passwort",
        "auth.field.name": "Name",

        "auth.agree": "Ich stimme den Bedingungen und der Datenschutzrichtlinie zu.",

        "auth.btn.login": "Anmelden",
        "auth.btn.login.busy": "Anmelden…",
        "auth.btn.register": "Konto erstellen",
        "auth.btn.register.busy": "Erstellen…",

        "auth.switch.noAccount": "Kein Konto?",
        "auth.switch.haveAccount": "Schon ein Konto?",
        "auth.switch.create": "Erstellen",
        "auth.switch.login": "Anmelden",

        "auth.backHome": "Zur Startseite",

        "auth.err.loginFailed": "Anmeldung fehlgeschlagen.",
        "auth.err.registerFailed": "Konto konnte nicht erstellt werden.",
        "auth.err.agreeRequired": "Sie müssen den Bedingungen zustimmen.",

        "cart.empty": "Ihr Warenkorb ist leer",
        "cart.total": "Gesamt",
        "product.open": "Zum Produkt",

        // de
        "checkout.title": "Zur Kasse",
        "checkout.recipient": "Empfänger",
        "field.firstName": "Vorname",
        "field.lastName": "Nachname",
        "field.email": "E-Mail",
        "field.phoneOptional": "Telefon (optional)",
        "checkout.shippingTitle": "Versand (Deutschland, DHL)",
        "ship.dhl": "DHL Paket • 2–3 Werktage",
        "ship.express": "DHL Express • 1 Werktag",
        "ship.packstation": "DHL Packstation / Postfiliale",
        "ship.pickup": "Abholung • Berlin-Mitte",
        "ship.tracking": "Sendungsverfolgung",
        "ship.freeFrom49WithYouFree": "Kostenlos ab 49 € — bei Ihnen kostenlos",
        "ship.express.meta": "Kurier, priorisierte Bearbeitung",
        "ship.pickup.meta": "nach Bestätigung, ohne Warteschlange",
        "eta.express": "1 Werktag",
        "eta.pickup": "Direkt nach Bestätigung (Abholung)",
        "eta.standard": "2–3 Werktage",

        "checkout.address.title": "Lieferadresse",
        "checkout.address.saved": "Gespeichert",
        "checkout.address.new": "Neu",
        "checkout.address.choose": "Adresse wählen",
        "address.primarySuffix": " — Standard",
        "checkout.address.manage": "Adressen verwalten",
        "checkout.address.noSuitable": "Keine passende Adresse. Wechseln Sie zu „Neu“ oder fügen Sie eine Adresse im Profil hinzu.",

        "field.pack.type": "Standorttyp",
        "field.postnummer": "Postnummer (DHL Kunden-Nr.)",
        "field.packstationNr": "Packstation Nr.",
        "field.filialeNr": "Filiale Nr.",
        "field.plz": "PLZ",
        "field.city": "Ort",
        "field.street": "Straße",
        "field.house": "Hausnummer",
        "field.courierNote": "Hinweis für den Zusteller (optional)",
        "placeholder.courierNote": "Vor Zustellung anrufen, beim Nachbarn abgeben usw.",

        "checkout.saveAddress": "Adresse in meinen Adressen speichern",
        "checkout.makeDefault": "Als Standard festlegen",
        "checkout.saveNow": "Adresse jetzt speichern",
        "checkout.fillRequired": "Pflichtfelder ausfüllen",
        "checkout.saveNowTitle": "Speichert die Adresse ohne zur Zahlung zu wechseln",
        "checkout.saved": "Gespeichert ✓",

        "checkout.agree": "Ich akzeptiere die AGB und die Rückgaberichtlinie.",
        "checkout.submit": "Weiter zur Zahlung",

        "alert.cartEmpty": "Der Warenkorb ist leer",
        "alert.mustAgree": "Bitte stimmen Sie den Bedingungen zu.",
        "alert.selectSavedOrManual": "Wählen Sie eine gespeicherte Adresse oder wechseln Sie zur manuellen Eingabe.",
        "alert.addrNotSuitablePack": "Die gewählte Adresse ist nicht für Packstation/Postfiliale geeignet.",
        "alert.savedAddressMissingFields": "In der gespeicherten Adresse fehlen Pflichtfelder.",
        "alert.checkRequired": "Bitte prüfen Sie die Pflichtfelder der Adresse.",
        "alert.saveAddressFailed": "Adresse konnte nicht gespeichert werden.",

        "checkout.addMoreForFree": "Fügen Sie {amount} hinzu, um kostenlosen Versand zu erhalten",
        "checkout.youHaveFree": "Sie haben kostenlosen Versand",

        "checkout.itemsCount": "Artikel",
        "checkout.subtotal": "Zwischensumme",
        "checkout.shipping": "Versand",
        "checkout.toPay": "Zu zahlen",
        "checkout.vatIncluded": "Inkl. MwSt. 19%: {amount}",

        "payment.title": "Zahlung",
        "payment.formUnavailable": "Zahlungsformular nicht verfügbar: VITE_STRIPE_PUBLISHABLE_KEY ist beim Build nicht gesetzt. Umgebungsvariable setzen und neu bauen.",
        "payment.loading": "Zahlung wird geladen…",
        "payment.createIntentFailed": "Zahlung konnte nicht erstellt werden.",
        "payment.payByCardTitle": "Kartenzahlung",
        "payment.cardDetails": "Kartendaten",
        "payment.processing": "Verarbeitung…",
        "payment.pay": "Bezahlen {amount}",
        "payment.orderSummary": "Bestellübersicht",
        "payment.items": "Artikel",
        "payment.shipping": "Versand",
        "payment.toPay": "Zu zahlen",
        "payment.vatIncluded": "Inkl. MwSt. 19%: {amount}",
        "payment.declined": "Zahlung abgelehnt.",
        "payment.notCompleted": "Zahlung wurde nicht abgeschlossen. Bitte erneut versuchen.",
        "payment.method.pickup": "Abholung — Berlin-Mitte",
        "payment.method.dhl": "DHL Paket",
        "payment.method.express": "DHL Express",
        "payment.method.packstation": "DHL Packstation",
        "payment.method.postfiliale": "DHL Postfiliale",


        "stars.of5": "von 5",
        "reviews.reviews": "Bewertungen",
        "reviews.sort.new": "Neueste zuerst",
        "reviews.sort.helpful": "Hilfreichste zuerst",
        "reviews.sort.high": "Höchste Bewertung",
        "reviews.sort.low": "Niedrigste Bewertung",
        "reviews.loading": "Bewertungen werden geladen…",
        "reviews.empty": "Noch keine Bewertungen – seien Sie der Erste!",
        "common.showMore": "Mehr anzeigen",
        "reviews.addTitle": "Bewertung schreiben",
        "reviews.yourRating": "Ihre Bewertung:",
        "reviews.namePlaceholder": "Name",
        "reviews.textPlaceholder": "Ihre Bewertung",
        "reviews.submit": "Veröffentlichen",
        "reviews.submitting": "Wird gesendet…",
        "reviews.helpfulCount": "👍 Hilfreich {n}",
        "reviews.helpfulAria": "Bewertung war hilfreich",
        "reviews.submitError": "Bewertung konnte nicht gesendet werden. Bitte erneut versuchen.",

        "delivery.title": "Versand & Zahlung",
        "delivery.calcFor": "Berechnung für",
        "delivery.qty.dec": "Verringern",
        "delivery.qty.inc": "Erhöhen",
        "delivery.qty.label": "Menge",
        "delivery.ship.optionsAria": "Versandoptionen",
        "delivery.paket.sub": "2–3 Werktage",
        "delivery.express.sub": "1 Werktag",
        "delivery.pack.pickup": "Abholung",
        "delivery.freeBadge": "Versand kostenlos",
        "delivery.freeLine": "Kostenlos ab {threshold} · es fehlen {left}",
        "delivery.pickup.title": "Abholung (Berlin-Mitte)",
        "delivery.pickup.sub": "heute/morgen nach Bestätigung",

        "delivery.find.title": "Nächste Packstation finden",
        "delivery.find.cityPlaceholder": "Stadt (optional)",
        "delivery.find.search": "Suchen",
        "delivery.find.badPlz": "Gültige PLZ eingeben (mind. 3 Ziffern).",
        "delivery.find.loading": "Suche nach nahegelegenen Punkten…",
        "delivery.find.empty": "Nichts in der Nähe gefunden. Andere PLZ/Stadt versuchen.",
        "delivery.find.error": "DHL-Standorte konnten nicht geladen werden.",
        "delivery.find.choose": "Auswählen",
        "delivery.find.savedPrefix": "Gespeichert:",
        "delivery.find.openCheckoutHint": "Öffnen Sie „Zur Kasse“, um diesen Punkt zu wählen.",

        "delivery.info.vat.title": "MwSt",
        "delivery.info.vat.text": "Preis inkl. 19% MwSt. Für {qty} Stk.: ≈ {amount}.",
        "delivery.info.pay.title": "Zahlung",
        "delivery.info.pay.text": "Klarna, Visa, Mastercard, Amazon Pay",
        "delivery.info.return.title": "Rückgabe",
        "delivery.info.return.text": "14 Tage. Ware unbenutzt und in Originalverpackung.",
        "delivery.hint": "Versandart und -kosten wählen Sie im Schritt „Zur Kasse“. Das Ergebnis hängt vom Warenkorb ab.",

        "search.overlay.aria": "Katalogsuche",
        "search.input.placeholder": "Produkte suchen…",
        "search.input.aria": "Suche",
        "search.clear": "Löschen",
        "search.close": "Schließen",
        "search.allResults": "Alle Ergebnisse",
        "search.trending": "Beliebt:",
        "search.trend.vitamins": "Vitamine",
        "search.trend.omega3": "Omega-3",
        "search.trend.care": "Pflege",
        "search.trend.gels": "Gele",
        "search.prompt": "Geben Sie eine Anfrage ein: Produktname, Kategorie oder Teil der Beschreibung.",
        "search.empty": "Nichts gefunden.",
        "search.openCatalog": "Katalog öffnen",
        "search.showAll": "Alle Ergebnisse anzeigen",
        "search.results.aria": "Suchergebnisse",

        "filters.search.label": "Suche",
        "filters.search.placeholder": "Name, Beschreibung...",
        "filters.categories.title": "Kategorien",
        "filters.categories.section": "Bereich",
        "filters.categories.subsection": "Unterbereich",
        "filters.categories.category": "Kategorie",
        "filters.categories.resetPath": "Pfad zurücksetzen",
        "filters.price.title": "Preis, €",
        "filters.price.from": "Von",
        "filters.price.to": "Bis",
        "filters.price.minAria": "Mindestpreis",
        "filters.price.maxAria": "Höchstpreis",
        "filters.rating.title": "Bewertung",
        "filters.rating.all": "Alle",
        "filters.sort.title": "Sortierung",
        "filters.actions.reset": "Filter zurücksetzen",
        "filters.actions.apply": "Anwenden"



    },
};

type Ctx = {
    locale: Locale;
    setLocale: (l: Locale) => void;
    t: (key: string, fallback?: string) => string;
};

const I18nCtx = createContext<Ctx | null>(null);

export const I18nProvider: React.FC<React.PropsWithChildren> = ({ children }) => {
    const initial = (): Locale => {
        const saved = (localStorage.getItem(LOCALE_KEY) as Locale | null) || "ru";
        return (["ru", "uk", "en", "de"] as const).includes(saved as any) ? saved : "ru";
    };
    const [locale, setLoc] = useState<Locale>(initial);

    useEffect(() => {
        localStorage.setItem(LOCALE_KEY, locale);
        document.documentElement.lang = locale;
        setApiLocale(locale);
    }, [locale]);

    const t = useMemo(() => {
        const dict = bundle[locale] || bundle.ru;
        return (key: string, fallback = key) => dict[key] ?? fallback;
    }, [locale]);

    const value = useMemo(() => ({ locale, setLocale: setLoc, t }), [locale, t]);
    return <I18nCtx.Provider value={value}>{children}</I18nCtx.Provider>;
};

export function useI18n() {
    const ctx = useContext(I18nCtx);
    if (!ctx) throw new Error("useI18n must be used within I18nProvider");
    return ctx;
}
